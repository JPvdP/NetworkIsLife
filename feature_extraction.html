<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.43">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>NetworkIsLife – feature_extraction</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="site_libs/quarto-diagram/mermaid.css" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">NetworkIsLife</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">Programming</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./feature_extraction.html">Text Mining</a></li><li class="breadcrumb-item"><a href="./feature_extraction.html">Feature Extraction</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Network Analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Network_analysis_basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The basics of Network Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Text_networks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Textual Networks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CE_network.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Collaboration network: Research on the circular economy</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Intro to Programming</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Intro_programming_basic_operations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Basic Operations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Intro_programming_DataImportAndPrep.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Import and preparation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Intro_programming_Databasemanip.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Database Manipulation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Intro_programming_functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Making functions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Intro_programming_loops_ifelse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Loops, if-else and Mapping</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Intro_programming_visualisation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data visualisation</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Text Mining</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./feature_extraction.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Feature Extraction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Topic_modelling_lda.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Topic Modelling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./NER.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Named Entity Recognition</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Text_networks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Textual Networks</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">State of Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./State_of_data_04062024.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">State of Data</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Topic Modelling Workshop</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Topic_modelling_bertopic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Installing Bertopic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Topic_modelling_bert_practise.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Create the model (detailed)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Topic_modelling_bertopic_nodetails.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Create the model (TL;DR version)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Topic_modelling_run_bertopic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Run Bertopic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Topic_modelling_lda2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Topic Modelling with LDA</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#feature-extraction" id="toc-feature-extraction" class="nav-link active" data-scroll-target="#feature-extraction">Feature Extraction</a>
  <ul class="collapse">
  <li><a href="#text-cleanup" id="toc-text-cleanup" class="nav-link" data-scroll-target="#text-cleanup">Text cleanup</a></li>
  <li><a href="#stopwords" id="toc-stopwords" class="nav-link" data-scroll-target="#stopwords">Stopwords</a></li>
  <li><a href="#stemming-and-lemmatization" id="toc-stemming-and-lemmatization" class="nav-link" data-scroll-target="#stemming-and-lemmatization">Stemming and Lemmatization</a></li>
  <li><a href="#the-dictionary" id="toc-the-dictionary" class="nav-link" data-scroll-target="#the-dictionary">The dictionary</a></li>
  <li><a href="#the-regex-language" id="toc-the-regex-language" class="nav-link" data-scroll-target="#the-regex-language">The Regex language</a></li>
  <li><a href="#part-of-speech-tagging" id="toc-part-of-speech-tagging" class="nav-link" data-scroll-target="#part-of-speech-tagging">Part-of-Speech Tagging</a></li>
  <li><a href="#term-classification" id="toc-term-classification" class="nav-link" data-scroll-target="#term-classification">Term classification</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">




<section id="feature-extraction" class="level1">
<h1>Feature Extraction</h1>
<p>80% of the data at our disposal is textual and often unstructured (web, press, reports, internal notes). This data contains high value-added information for decision-making. Given the amount of information the text contains, it is important to know what is worth reading and what can be put aside <span class="citation" data-cites="fayyad1996knowledge">[@fayyad1996knowledge]</span>. Thus, the text requires particular techniques which aim to extract the salient elements of the text in order to be able to transform the text into intelligence. The objective of this training is to introduce the basic notions associated with textual and semantic analysis and present some use cases linked to sustainability.</p>
<p>The learning goals for this chapter are:</p>
<ul>
<li><strong>Know</strong> the vocabulary associated with textual and semantic analysis</li>
<li><strong>Know</strong> how to differentiate between textual and semantic analysis</li>
<li><strong>Understand</strong> and <strong>implement</strong> the fundamental steps involved in preparing the text before analysis</li>
<li><strong>Understand</strong> the importance of preparing the text for analysis</li>
<li><strong>Understand</strong> the importance of an ontology</li>
<li><strong>Know</strong> some applied cases for the study of sustainability</li>
</ul>
<p>The difficulty associated with textual analysis is the identification of terms with high informational value contained in a corpus of documents. The raw text contains both terms which have value for the analysis we wish to make of them and terms which do not provide any particular information. The first step in textual analysis is the identification of terms that have value for the question the analyst seeks to address. In itself, extraction is a complex task, but there is software that more or less automate these steps (Gargantext, Cortext, Vantagepoint). However, the informational value of terms changes depending on a question asked. For example, identifying the population’s feeling towards a technology does not use the same terms as an analysis of the technological positioning of players in a field. It is therefore important to be able to intervene in the identification of terms to be able to guide the analysis for maximum impact on decision-making.</p>
<div id="fig-tinytexts" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-tinytexts-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Z5_docs.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-tinytexts-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: 5 Short texts
</figcaption>
</figure>
</div>
<p>Let’s take the example of the three texts in <a href="#fig-tinytexts" class="quarto-xref">Figure&nbsp;1</a> . Three claims from two patents are represented. For an analysis that focuses on technology, we are mainly interested in the terms “reduced cross-section”, “edge geometry”, “thickness of the main body geometry” etc. We are not interested in elements such as “according to”, “claims”, “also includes”. We are therefore looking for an efficient method to identify the technical terms present in these patent documents.</p>
<p>In other cases, such as press data, we could be interested in events (conferences, congresses, symposiums) and the actors present, we then look for information of a different nature, requiring different extraction methods.</p>
<p>Regardless of the question or the nature of the data sources, there are methods and indicators that allow us to zoom in on the information that we consider to have informational value. These algorithms and methods are based on hypotheses in information science in order to scientifically justify the indicators. These indicators are purely statistical in nature and highlight terms which have value due to their occurrence or positioning in the text. In this document we detail these indicators by exposing both the theoretical hypotheses and the calculations. After an initial automated extraction, comes the work of the analyst to rework the extraction through manual work (which is not necessarily very long) to better answer the question asked. This step is complementary to automatic statistical analysis in order to group and delete irrelevant terms. In this document we will present some use cases to illustrate this point.</p>
<p>In summary, textual analysis is initially based on an automatic extraction of candidate terms, followed by a cleaning step by the analyst which aims to direct towards the question:</p>
<p>The objective of textual analysis is to highlight salient elements in a textual corpus and to propose an analysis and contextualization of these elements.</p>
<p>Textual analysis can be done in different ways. The one we use here is called the <strong>Bag-of-Words</strong> approach, literally, bag of words. The idea of this approach is to identify salient terms in the text and carry out a statistical analysis of these terms. Unlike semantic analysis, the meaning of terms is not taken into account. The approach focuses on terms and the association of these terms.</p>
<p>The approach is based on different sequential steps that we will follow in this tutorial.</p>
<section id="text-cleanup" class="level3">
<h3 class="anchored" data-anchor-id="text-cleanup">Text cleanup</h3>
<p>In text analysis, linguistic complexity is a major challenge. Whether it is plurals, conjugations, synonyms or even homographs and other variations, there are problems that we must address in order to maximize the <strong>informational value</strong> of the elements that we can extract from the text. In table X. different problems that can be encountered in a corpus of text are grouped together. Some are generic (like synonyms and homographs) others are specific to domains (the question of chemical elements in particular).</p>
<table class="caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>Case</th>
<th>Example</th>
<th>Problem</th>
<th>Solution</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Synonym - Abbreviation</td>
<td>Rhino ~ Rhinoceros</td>
<td><strong>Underestimation</strong> of the term</td>
<td>Stemming, Lemmatisation</td>
</tr>
<tr class="even">
<td>Synonym</td>
<td>Dwelling ~ House</td>
<td><strong>Underestimation</strong> of the terms</td>
<td>Stemming, Lemmatisation</td>
</tr>
<tr class="odd">
<td>Homographe</td>
<td>Bass (Fish) ~ Bass (Instrument)</td>
<td><strong>Overestimation</strong> of the term</td>
<td>Lemmatisation</td>
</tr>
<tr class="even">
<td>Compound terms</td>
<td>Fuel Cell</td>
<td><strong>Overestimation</strong> of <em>fuel</em> and <em>cell</em>, <strong>Underestimation</strong> of <em>fuel cell</em></td>
<td>C-value</td>
</tr>
<tr class="odd">
<td>Numbers - Latin</td>
<td>1, 25gr, C02</td>
<td>Removing numbers can result in deleting valuable information.</td>
<td>Dictionary, RegEx</td>
</tr>
<tr class="even">
<td>Numbers - Roman</td>
<td>Univ. Bordeaux IV</td>
<td>Can be confused with acronyms (IV). Can create items with empty values.</td>
<td>Dictionary</td>
</tr>
<tr class="odd">
<td>Conjugation</td>
<td>Evolved ~ Evolves ~ Evolving</td>
<td><strong>Underestimation</strong> of the term <em>evolve</em>.</td>
<td>Lemmatisation</td>
</tr>
<tr class="even">
<td>Plurals</td>
<td>Mill ~ Mills</td>
<td><strong>Underestimation</strong> of the term <em>Mill</em></td>
<td>Stemming, Lemmatisation</td>
</tr>
<tr class="odd">
<td>Chemistry</td>
<td>C02</td>
<td><strong>Underestimation</strong> of the term <em>C02</em> if improperly cleaned</td>
<td>RegEx, Dictionary</td>
</tr>
<tr class="even">
<td>Acronyms</td>
<td>aminophenyltrimethoxysilane ~ APhTMS</td>
<td><strong>Underestimation</strong> of the term <em>APhTMS</em></td>
<td>Dictionary</td>
</tr>
</tbody>
</table>
<p>The problems are mainly linked to counting problems which are the keystone of textual analysis. The elements which are given in solution will be explained one by one in the following paragraphs. For now the key point we want to make is that it is important to understand why each of these identified cases poses a problem in order to have correct counts. For the majority of cases, the underlying problem is that not processing the text creates more tokens than necessary resulting in an undervaluation of terms. For example, if we keep <em>tire</em> and <em>tyres</em> in the text, we have tokens with proper counts. Logic would, however, dictate that the two terms have the same informational value and are therefore grouped with a single frequency. The same thing is true for synonyms, what interests us basically is to know the importance of the concept of accommodation in a corpus. Suppose we are interested in the importance of housing among young people. In the stories that we can collect we are therefore indifferent between <em>house</em>, <em>housing</em> or even <em>habitat</em> the value is the same. Choosing a reference term and replacing all the synonyms with this value therefore allows you to better appreciate how many times the question of housing appears in the corpus.</p>
<p>The following subsections present the different stages of text preparation that we generally encounter in word processing software and in research papers that use open-source algorithms.</p>
</section>
<section id="stopwords" class="level3">
<h3 class="anchored" data-anchor-id="stopwords">Stopwords</h3>
<p>The BOW approach is based on the identification of terms that have strong informational value for a given question. One of the first steps then consists of removing terms with little or no <strong>informational value</strong>. These terms are called <em>stop words</em>. Typically words such <em>a</em>, <em>the</em>, <em>or</em>, <em>and</em>, <em>to</em> are considered tool words. These terms have high frequencies in any corpus and therefore create noise compared to the terms we seek to highlight. This list can, however, be amended if a term is essential for a given question. Conversely, it is possible to add terms which have no value in a particular context or for a particular question. For example, if we analyze a corpus of press data, it is possible to highlight events (trade fairs, congresses, etc.) which do not provide information if we seek to analyze technology. We can then choose to remove these terms for this particular question. A list of tool words starts from a list of basic terms and is then amended by the analyst depending on the case study and the question being addressed.</p>
<p>In R this can done with the <strong>tm</strong> package. The <strong>tm</strong> package has a <em>removeWords</em> function that takes two arguments, a first is the text from which we want to remove words, the second argument is an object that contains the words to remove. This can either be a simple list of words (made with the <em>c()</em> function), or stopword lists supplied by different packages. At this stage we are mostly interested in removing stopwords which implies that we need to also specify the language of the text. Using the <em>kind</em> argument allows for the specification of the language <em>en</em> for english, <em>nl</em> for dutch, <em>fr</em> for french and so on. In the code below we remove english stopwords from <em>text_object</em> which has the format of a character string.</p>
<p>Let’s use as an example the abstract of a patent on water desalination:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>text_object <span class="ot">=</span> <span class="st">"Provided is a separation membrane for seawater desalination</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="st">and a method for manufacturing the same, and more particularly, a separation</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="st">membrane for seawater desalination with excellent water permeability and salt</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="st">rejection and a method for manufacturing the same. If the separation membrane</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="st">for seawater desalination and the method for manufacturing the same according</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="st">to the present disclosure are applied, it is possible to provide a separation</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="st">membrane for seawater desalination with excellent water permeability and salt</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="st">rejection. Therefore, it is possible to provide a separation membrane for</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="st">seawater desalination with improved performance in comparison to an existing</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="st">separation membrane for seawater desalination. As a result, water resources</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="st">may be widely utilized."</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We remove the stopwords from this text:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tm)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  text_object_nostopwords <span class="ot">=</span> <span class="fu">removeWords</span>(text_object, <span class="fu">stopwords</span>(<span class="at">kind =</span> <span class="st">"en"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="st">"Provided   separation membrane  seawater desalination   method </span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="st">manufacturing  ,   particularly,  separation membrane  seawater</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="st">desalination  excellent water permeability  salt rejection   method </span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="st">manufacturing  . If  separation membrane  seawater desalination </span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="st">method  manufacturing   according   present disclosure  applied,   possible  provide  separation membrane  seawater desalination  excellent</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="st">water permeability  salt rejection. Therefore,   possible  provide </span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="st">separation membrane  seawater desalination  improved performance </span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="st">comparison   existing separation membrane  seawater desalination. </span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="st">As  result, water resources may  widely utilized."</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Provided   separation membrane  seawater desalination   method \nmanufacturing  ,   particularly,  separation membrane  seawater\ndesalination  excellent water permeability  salt rejection   method \nmanufacturing  . If  separation membrane  seawater desalination \nmethod  manufacturing   according   present disclosure  applied,   possible  provide  separation membrane  seawater desalination  excellent\nwater permeability  salt rejection. Therefore,   possible  provide \nseparation membrane  seawater desalination  improved performance \ncomparison   existing separation membrane  seawater desalination. \nAs  result, water resources may  widely utilized."</code></pre>
</div>
</div>
</section>
<section id="stemming-and-lemmatization" class="level3">
<h3 class="anchored" data-anchor-id="stemming-and-lemmatization">Stemming and Lemmatization</h3>
<p>It is common, even natural, to find inflections of the same term in a corpus of texts. The presence of a term and its plural (<em>desalinator</em>, <em>desalinators</em>), abbreviations (<em>pneu</em>, <em>pneumatics</em>), conjugations (<em>run</em>, <em>ran</em>, <em>running</em>) or terms with a close semantic meaning (<em>desalinator</em>, <em>desalination</em>) are common occurrences. These inflections, however, pose a problem in term frequency counts. In general, we consider that the terms <em>desalinator</em>, <em>desalination</em> and <em>desalinators</em> have the same informational value and are therefore synonymous. Retaining multiple inflections in the text results in a frequency calculation for each individual term resulting in a lower overall importance of each term. We would like to have only one count, for a term that we consider to be the reference term. There are two approaches to doing this, <strong>stemming</strong> and <strong>lemmatization</strong>. Stemming approaches this issue by reducing each word to its stem. The stem that results from this process is not always a word and can be difficult to understand out of context. Lemmatization has a different approach and used dictionary definitions to replace terms by a <strong>main form</strong>. <a href="#fig-lemmatization" class="quarto-xref">Figure&nbsp;2</a> gives an example for different inflections which are reduced to a <em>main form</em>, in this case: <em>desalinate</em>).</p>
<div class="columns">
<div class="column" style="width:45%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-lemmatization" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-lemmatization-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>
<pre class="mermaid mermaid-js" data-label="fig-lemmatization">flowchart LR
  C(Desalinate)
  D[Desalinates] --&gt; C
  E[Desalinating] --&gt; C
  F[Desalinated] --&gt; C
  G[Desalinator] --&gt; C
  H[Desalination] --&gt; C
</pre>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-lemmatization-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Example of lemmatisation, where variations are replaced by “desalinate”
</figcaption>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:10%;">
<!-- empty column to create gap -->
</div><div class="column" style="width:45%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-stemming" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-stemming-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>
<pre class="mermaid mermaid-js" data-label="fig-stemming">flowchart LR
  O(Desalin)
  J[Desalinates] --&gt; O
  K[Desalinating] --&gt; O
  L[Desalinated] --&gt; O
  M[Desalinator] --&gt; O
  N[Desalination] --&gt; O
</pre>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-stemming-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Example of Stemming, where variations are reduced to their stem “desalin”
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</div>
<p>There are practical advantages to using lemmatization since the main form remains readable, while with stemming this is more complicated. <em>In fine</em>, it’s up to the analyst to decide which approach is best for both the question at hand and the data chosen. In the following table some advantages and disadvantages are shown:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 37%">
<col style="width: 37%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Aspect</strong></th>
<th><strong>Lemmatization</strong></th>
<th><strong>Stemming</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Accuracy</strong></td>
<td>Better accuracy, considers context</td>
<td>Faster, computationally less expensive</td>
</tr>
<tr class="even">
<td><strong>Readability</strong></td>
<td>Improved, real words</td>
<td>Simpler, heuristic rules</td>
</tr>
<tr class="odd">
<td><strong>Context Preservation</strong></td>
<td>Considers word meaning, preserves context</td>
<td>May lead to over-stemming, loss of specificity</td>
</tr>
<tr class="even">
<td><strong>Computational Complexity</strong></td>
<td>More computationally expensive</td>
<td>Less computationally expensive</td>
</tr>
<tr class="odd">
<td><strong>Resource Intensive</strong></td>
<td>Requires linguistic resources</td>
<td>Minimal resources required</td>
</tr>
</tbody>
</table>
<section id="stemming-and-lemmatization-in-r" class="level4">
<h4 class="anchored" data-anchor-id="stemming-and-lemmatization-in-r">Stemming and Lemmatization in R</h4>
<p>For the implementation of lemmatization we will use the <strong>textstem</strong> package. Lemmatization is done in two steps, first a dictionnary is created based on the text. Basically this means that all terms in the provided text are identified and for these terms lemmas are identified. In a second step this dictionary is then applied to the text. The main reason for this two-step approach is to reduce computation time since we don’t have to search through words that are not in the text.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(textstem)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Some variations on a word as an example:</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>Example_text <span class="ot">&lt;-</span>  <span class="fu">c</span>(<span class="st">"Desalinates"</span>, <span class="st">"Desalinating"</span>, <span class="st">"Desalinated"</span>, <span class="st">"Desalinator"</span>, <span class="st">"Desalination"</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>Example_text <span class="ot">&lt;-</span> <span class="fu">tolower</span>(Example_text) <span class="co"># remove the capital letters (required)</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co"># we make a dictionary from the text</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>My_dico <span class="ot">&lt;-</span>  <span class="fu">make_lemma_dictionary</span>(Example_text, <span class="at">engine =</span> <span class="st">'hunspell'</span>)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># now we apply the dictionnary to clean the text</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>lemmatized_text <span class="ot">&lt;-</span> <span class="fu">lemmatize_strings</span>(Example_text, <span class="at">dictionary =</span> My_dico)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>lemmatized_text</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "desalinate"  "desalinate"  "desalinate"  "desalinator" "desalinate" </code></pre>
</div>
</div>
<p>The function has changed the words in the vector to their dictionary reference form. Not that “desalinator” has not been changed. This is because the word has no reference form in the underlying dictionary. We can address this issue by fist making our own dictionary and applying it before using the more generic ones. Actually, let’s go a step further. Suppose we are aiming for an analysis that aims at technologies. In this case all the conjugated forms of the word are actually relating to the “desalinator” as a technology. We could decide to replace all these words with “desalinator”. Lets’ see how we could do this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># first we create a dictionary that contains the variations of the word and the reference form:</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>My_dico <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="at">term =</span> <span class="fu">c</span>(<span class="st">"Desalination"</span>, <span class="st">"Desalinates"</span>, <span class="st">"Desalinating"</span>, <span class="st">"Desalinated"</span>), <span class="at">lemma =</span><span class="fu">c</span>(<span class="st">"Desalinator"</span>, <span class="st">"Desalinator"</span>, <span class="st">"Desalinator"</span>, <span class="st">"Desalinator"</span>), <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co"># we extract the tokens</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>Extracted_tokens <span class="ot">&lt;-</span> <span class="fu">tokens</span>(text_object, <span class="at">remove_punct =</span> <span class="cn">TRUE</span>)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co"># then we use our new dictionnary to replace the tokens </span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>Lemmatized_tokens <span class="ot">&lt;-</span> <span class="fu">tokens_replace</span>(Extracted_tokens,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>                             <span class="at">pattern =</span> My_dico<span class="sc">$</span>term,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>                             <span class="at">replacement =</span> My_dico<span class="sc">$</span>lemma,</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>                             <span class="at">case_insensitive =</span> <span class="cn">TRUE</span>, </span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>                             <span class="at">valuetype =</span> <span class="st">"fixed"</span>)</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="co"># the results is a list, we want our character string back so we unlist...</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>Lemmatized_tokens <span class="ot">=</span> <span class="fu">unlist</span>(Lemmatized_tokens)</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="co"># ... and recombine the words</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(Lemmatized_tokens)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In certain cases we would want to keep the library from replacing specific terms, we can do this by explicitly excluding them from the set</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lexicon)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># we are looking to implement our own cleaning in this scenario, we have a particular vision of what we want to do, so we want to make sure changes is text follow our own definitions and not those of a dictionary which would not reflect our aim.</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co"># excluding specific words: </span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>my_lex <span class="ot">&lt;-</span> lexicon<span class="sc">::</span>hash_lemmas[<span class="sc">!</span>token <span class="sc">==</span> <span class="st">"Desalinator"</span>, ]</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>df_lemmatized <span class="ot">&lt;-</span> <span class="fu">lemmatize_strings</span>(text_object, <span class="at">dictionary =</span> my_lex)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>df_lemmatized</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Stemming is a more straightforward approach, it reduces the word to their stems with specific algorithms. Different algorithms have different approaches used to define the stem of a word.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># we use the tm package and the stemDocument function</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>Example_text <span class="ot">&lt;-</span>  <span class="fu">c</span>(<span class="st">"Desalinates"</span>, <span class="st">"Desalinating"</span>, <span class="st">"Desalinated"</span>, <span class="st">"Desalinator"</span>, <span class="st">"Desalination"</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>text_object_nostopwords <span class="ot">&lt;-</span> tm<span class="sc">::</span><span class="fu">stemDocument</span>(Example_text)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>text_object_nostopwords</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Desalin" "Desalin" "Desalin" "Desalin" "Desalin"</code></pre>
</div>
</div>
</section>
</section>
<section id="the-dictionary" class="level3">
<h3 class="anchored" data-anchor-id="the-dictionary">The dictionary</h3>
<p>In many case there are word that we want to remove from the text because they appear in a high frequency but do not contain any value of the analysis. We can create a vector of words that we want to remove:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>My_dictionnary <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"project"</span>, <span class="st">"invention"</span>, <span class="st">"aim"</span>, <span class="st">"goal"</span>, <span class="st">"paper"</span>, <span class="st">"water desalination"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can then remove these words using the <strong>removeWords</strong> function from the <em>tm</em> package.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>text <span class="ot">&lt;-</span> tm<span class="sc">::</span><span class="fu">removeWords</span>(tmp, My_dictionnary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This approach breaks the structure of a sentence and should be used carefully. Later on we will search for specific sentence structures.</p>
</section>
<section id="the-regex-language" class="level3">
<h3 class="anchored" data-anchor-id="the-regex-language">The Regex language</h3>
<p>In many cases, text cleaning can require us to search and replace, remove or extract specific patterns in the text. For example in twitter data, we want to extract the # that are used in the tweets, when working with geo data we might want to extract postal codes which have specific patterns. For chemical solutions we might want to search specifically for µg, mg or numbers, in other cases the text contains errors or formatting that is creating noise in the text. All this and more can be done with a specific language called RegEx which stands for <strong>Regular Expressions</strong>. Using this language we can search for very specific patterns in the text, or indeed in any chain of characters. For example if we have the task of extracting postcodes from a character chain that contains a full address, we need to search for a chain that contains four numbers followed by two letters (at least in the Netherlands):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>address <span class="ot">&lt;-</span> <span class="st">"Straatweg 42, 9942AA, dorpstad"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can search for this pattern using the following regex:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="st">"\d[0-9]{3}[A-Z]{2}"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>earches for digits, we specify that we search for any number between 0 and 9 by using the brackets.</li>
<li>{3} indicates that we want to repeat this 3 times after the first, in other words we search for 4 numbers between 0 and 9</li>
<li>[A-Z] searches for capital letters between A and Z. {2} indicates that we want 2</li>
</ul>
<p>We can use this type of expression directly in most functions in R. However we often need to adjust some of the “\” in the text. In the example below we need to add a “\”:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_extract</span>(<span class="st">"Straatweg 42, 9942AA, dorpstad"</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">d[0-9]{3}[A-Z]{2}"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "9942AA"</code></pre>
</div>
</div>
<p>The combination of these elements will hence search for 4 numbers followed by 2 capital letters. Given that RegEx is a language in itself, it goes beyond the scope of this document to go into details. Know that it exists and can help with the identification of specific patterns in data. For more information see <a href="https://regexr.com">this website for testing</a> and <a href="https://towardsdatascience.com/introduction-to-regular-expressions-3371c86f7">this website to get you started</a>.</p>
</section>
<section id="part-of-speech-tagging" class="level3">
<h3 class="anchored" data-anchor-id="part-of-speech-tagging">Part-of-Speech Tagging</h3>
<p>Once we have harmonized the text with the different cleaning steps, we are going to enter more into the details of the identification of terms with informational value. In textual data we will often see that one term alone has less informational value than when it’s combined with another: - Windmill energy - Fuel cell - Water desalination system</p>
<p><em>Windmill</em> is of less interest than <em>Windmill energy</em>. This means we need to find a way to identify these terms (also called n-grams) and extract them. The general understanding in the field of natural language processing and text mining is that n-grams (including bigrams, trigrams, etc.) can capture more complex patterns and relationships in text compared to monograms (single words). This is because n-grams consider sequences of words, providing more context and capturing dependencies between adjacent words.</p>
<p>If we take a look at the text we were initially working with we can identify mutiple multi-terms of interest:</p>
<p>“Provided is a <span style="color: red;">separation membrane for seawater desalination</span> and a method for manufacturing the same, and more particularly, a <span style="color: red;">separation membrane for seawater desalination</span> with <span style="color: blue;">excellent</span> <span style="color: red;">water permeability and salt rejection</span> and a <span style="color: green;">method for manufacturing</span> the same. If the <span style="color: red;">separation membrane for seawater desalination</span> and the <span style="color: green;">method for manufacturing</span> the same according to the present disclosure are applied, it is possible to provide a <span style="color: red;">separation membrane for seawater desalination</span> with <span style="color: blue;">excellent</span> <span style="color: red;">water permeability and salt rejection</span>. Therefore, it is possible to provide a <span style="color: red;">separation membrane for seawater desalination</span> with <span style="color: blue;">improved performance</span> in comparison to an existing <span style="color: red;">separation membrane for seawater desalination</span>. As a result, <span style="color: red;">water resources</span> may be <span style="color: orange;">widely utilized</span>.”</p>
<p>Let’s start with the analysis of this text. Start with downloading a language model that we will use for the tagging of the words in the text. The language can be changed according to the language of the text you are trying to analyse.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("udpipe")</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(udpipe)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>ud_model <span class="ot">&lt;-</span> udpipe<span class="sc">::</span><span class="fu">udpipe_download_model</span>(<span class="at">language =</span> <span class="st">"english"</span>)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>ud_model <span class="ot">&lt;-</span> udpipe<span class="sc">::</span><span class="fu">udpipe_load_model</span>(ud_model)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">udpipe_annotate</span>(ud_model, <span class="at">x =</span> text_object, <span class="at">doc_id =</span> <span class="dv">1</span>)</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(x)</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="fig-POS_output" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-POS_output-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="POS_tagging_english_1.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-POS_output-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Output of the Tagging process
</figcaption>
</figure>
</div>
<p>The output of this script gives a dataframe in which each word (token) is identified, its lemma is supplied and then upos, xpos and feats are given:</p>
<ul>
<li>upos: “universal part-of-speech” -&gt; tags</li>
<li>xpos: more detailed, language specific elements</li>
</ul>
<table class="caption-top table">
<thead>
<tr class="header">
<th>UPOS</th>
<th>XPOS</th>
<th>POS</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>NOUN</td>
<td>NN</td>
<td>Noun</td>
</tr>
<tr class="even">
<td>VERB</td>
<td>VB</td>
<td>Verb</td>
</tr>
<tr class="odd">
<td>ADJ</td>
<td>JJ</td>
<td>Adjective</td>
</tr>
<tr class="even">
<td>ADV</td>
<td>RB</td>
<td>Adverb</td>
</tr>
<tr class="odd">
<td>PRON</td>
<td>PRP</td>
<td>Personal Pronoun</td>
</tr>
<tr class="even">
<td>ADP</td>
<td>IN</td>
<td>Adposition</td>
</tr>
<tr class="odd">
<td>CONJ</td>
<td>CC</td>
<td>Conjunction</td>
</tr>
<tr class="even">
<td>NUM</td>
<td>CD</td>
<td>Numeral</td>
</tr>
</tbody>
</table>
<ul>
<li>feats: The feats field in the annotation output represents morphological features associated with each token in the processed text. Morphological features can include various linguistic information related to the morphology of a word, such as gender, number, case, tense, aspect, and more. These features are language-specific and can provide detailed information about the grammatical and morphological properties of words in a text.</li>
</ul>
<p>Now let’s do the same for a text that’s less about technologies but more about social issues with climate change:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>text2 <span class="ot">=</span> <span class="st">"Climate anxiety, an emotional response to the growing threat of climate change, </span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="st">has become a prevalent concern in today's society. As global temperatures rise and extreme</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="st">weather events escalate, individuals grapple with a sense of helplessness, fear, and </span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="st">impending environmental doom. The constant barrage of alarming news, coupled with the </span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="st">realization of the ecological crisis, fuels this anxiety. It manifests as eco-grief, </span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="st">eco-anxiety, or climate despair, impacting mental health. Coping strategies </span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="st">involve activism, eco-conscious lifestyle changes, and fostering resilience. </span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="st">Addressing climate anxiety necessitates global cooperation, sustainable </span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="st">policies, and a collective commitment to mitigating the impacts of climate change."</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">udpipe_annotate</span>(ud_model, <span class="at">x =</span> text2, <span class="at">doc_id =</span> <span class="dv">1</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(x)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><img src="POS_tagging_english_2.png" class="img-fluid" alt="Example of POS tagging"> This example shows more clearly the effects of lemmatization on the text and all the different elements that are identified by the tagging system, punctuation included. Treating the text in this way allows us to identify specific phrases within the text that can be of value for an analysis. When we focus on the analysis of technologies, we are mainly interested in the nouns which would extract the technological terms from the text. If we want to identify social aspects, or emotions we can focus on nouns, verbs and adjectives. According to the question we are trying to answer, we can search for different elements within the text itself. The advantage of Part-Of-Speech tagging is that we can chose these patterns ourselves. These patterns are referred to as “word phrases”. Using the <em>keywords_phrases</em> function from the <strong>udpipe</strong> package we can search them directly.</p>
<ul>
<li>(A|N)*: This part represents a sequence of zero or more occurrences of either an adjective (A) or a noun (N).</li>
<li>N: This represents a single occurrence of a noun.</li>
<li>(P+D*(A|N)*N)*: This part represents a sequence that includes a preposition (P) followed by zero or more determiners (D) and then followed by the same pattern as described earlier for adjectives and nouns.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>x<span class="sc">$</span>phrase_tag <span class="ot">&lt;-</span> <span class="fu">as_phrasemachine</span>(x<span class="sc">$</span>upos, <span class="at">type =</span> <span class="st">"upos"</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>stats <span class="ot">&lt;-</span> <span class="fu">keywords_phrases</span>(<span class="at">x =</span> x<span class="sc">$</span>phrase_tag, <span class="at">term =</span> <span class="fu">tolower</span>(x<span class="sc">$</span>token), </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>                            <span class="at">pattern =</span> <span class="st">"(A|N)*N(P+D*(A|N)*N)*"</span>, </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>                            <span class="at">is_regex =</span> <span class="cn">TRUE</span>, <span class="at">detailed =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="POS_tagging_english_3.png" class="img-fluid figure-img"></p>
<figcaption>Result of the phrases extraction</figcaption>
</figure>
</div>
<p>The results of the extraction show the different patterns containing adjectives, prepositions, determiners and nouns. The terms that are identified in this way are less random than extracting all possible combinations of sequential tokens. Of course the type of pattern can be adjusted in relation to a specific question or specific data.</p>
<p>We now have a long list of terms we can use which should have at least some informational value. But not all the terms have the same value. <em>emotional response</em> and <em>response</em> do not convey the same level of information. We hence need a method to determine which terms we would want to keep. This is especially the case for nested terms such as <em>emotional response</em> which contains two monograms. How can we automatically define that it’s the combination of both terms that has value rather than each term individually?</p>
<section id="c-value" class="level4">
<h4 class="anchored" data-anchor-id="c-value">C-value</h4>
<p>C value = <span class="math inline">\(log_2|a|f(a) - \frac{1}{P(T_a)}\sum_{b \in T_a}f(b)\)</span></p>
<p>It’s this problem that the <em>c-value</em> indicator proposed by <span class="citation" data-cites="frantzi2000automatic">[@frantzi2000automatic]</span> seeks to address. The logic is to reduce the value of a term according to the number of times it is nested within another term. The hypothesis is that if a term only appears as part of a larger term, it has no value. For example, in <a href="#tbl-Cvalue" class="quarto-xref">Table&nbsp;1</a>, we compute the c-values for the term “Fuel Cell Battery Stack”. This term has 3 nested terms (<em>fuel cell battery</em>, <em>Fuel Cell</em>, <em>Fuel</em>). The term <span class="math inline">\(Fuel\)</span> appears 14 times in the text, of these 14 occurrences 12 are attributed to the broader term <em>Fuel Cell</em>. This reduces significantly the importance of the term <span class="math inline">\(Fuel\)</span> in the text. Applying the formula from the beginning of this section we can compute the values for each term we get:</p>
<div id="tbl-Cvalue" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-Cvalue-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: C Value computation illustration
</figcaption>
<div aria-describedby="tbl-Cvalue-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th>Term</th>
<th>Frequency</th>
<th>n-grams</th>
<th><span class="math inline">\(P_t\)</span></th>
<th><span class="math inline">\(\sum f(b)\)</span></th>
<th>c-value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Fuel</td>
<td>14</td>
<td>1</td>
<td>3</td>
<td>12 + 10 + 7 = 29</td>
<td>0</td>
</tr>
<tr class="even">
<td>Fuel Cell</td>
<td>12</td>
<td>2</td>
<td>2</td>
<td>10 + 7 = 17</td>
<td>3.5</td>
</tr>
<tr class="odd">
<td>Fuel Cell Battery</td>
<td>10</td>
<td>3</td>
<td>1</td>
<td>7</td>
<td>4.75</td>
</tr>
<tr class="even">
<td>Fuel Cell Battery Stack</td>
<td>7</td>
<td>4</td>
<td>0</td>
<td>0</td>
<td>14</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>The results provide a high value for <em>Fuel Cell Battery Stack</em>, while <em>Fuel Cell Battery</em> and <em>Fuel Cell</em> have a positive but low value. Whether or not they will be kept in the final dataset depends on the values for other terms from other documents.</p>
<p>The c-value helps us select words based on a specific hypothesis, which related to the nestedness of terms. Another option is to count the frequencies of the terms and aim to assess when a frequency is high enough for us to consider a term important. For this we have multiple indicators which we will present now. Note however, that the c-values can be combined with the following indicators to identify terms more precisely.</p>
</section>
</section>
<section id="term-classification" class="level3">
<h3 class="anchored" data-anchor-id="term-classification">Term classification</h3>
<section id="occurences" class="level4">
<h4 class="anchored" data-anchor-id="occurences">Occurences</h4>
<p>The first indicator of a term’s importance is simply the number of times it appears in a document. The assumption is that the frequency of occurrence of the term correlates with its importance in the corpus.</p>
<p>This frequency can be calculated in two ways: firstly, we can consider absolute frequency, i.e.&nbsp;the number of times the term is encountered in the corpus. This approach implies that if the term occurs three times in the same document, we increase the frequency by three. This method will therefore give the same score to a term that appears 10 times in a single document as to a term that appears once in 10 documents.</p>
<p>The second approach consists in calculating frequencies at document level, so that even if a term appears 10 times in a document, its frequency only increases by 1.</p>
<p>Both approaches have their advantages and disadvantages. Counting at the sentence level brings out terms that are important in a subset of documents, whereas the document-level approach will bring out mainly generic terms (terms present in all documents).</p>
<p>To conduct an in-depth analysis, these indicators have limitations. A problem of generality. We can consider a term to be generic when it appears in a significant number of documents <span class="citation" data-cites="jones1972statistical">[@jones1972statistical]</span>. The use of frequency-based classification can therefore lead to the highlighting of elements of little interest. For example, when studying cars, it’s not necessarily useful to highlight , and . More precise terms might contain more information.</p>
<ul>
<li><p>Taking into account the absolute frequency of terms can help to highlight more specific terms. However, this approach is influenced by document size. In a corpus with heterogeneous text lengths, this largely influences the counts and can bias the identification work.</p></li>
<li><p>The limitations of raw counts in texts has led to the development of indicators that aim to avoid generic terms while highlighting more specific terms that represent at least part of the corpus. In the case of technological analyses, this means avoiding generic technological terms while retaining important terms for technological sub-segments.</p></li>
</ul>
</section>
<section id="chi2-or-pearson-residual" class="level4">
<h4 class="anchored" data-anchor-id="chi2-or-pearson-residual"><span class="math inline">\(\chi^2\)</span> or Pearson residual</h4>
<p>A first idea to overcome these biases is to compare the frequency of a term with its expected frequency. In other words, given the size of the vocabulary and the number of documents, how often should a term be found in the corpus? The logic being that the longer the texts or the larger the corpus, the greater the probability of encountering a term. If the frequency exceeds the expected frequency, we could consider that the term is important for the corpus. This indicator is the <span class="math inline">\(\chi^2\)</span>, commonly used in statistics to identify whether a deviation from an expected value is statistically significant. The formula is fairly self-explanatory:</p>
<p><span class="math inline">\(\chi^2(i,j) = \frac{n(i,j) - e(i,j)}{\sqrt{e(i,j)}}\)</span></p>
<p>Here, <span class="math inline">\(n(i,j)\)</span> corresponds to the observed frequency of the term, while <span class="math inline">\(e(i,j)\)</span> is the expected frequency, taking into account text length and number of documents. The nominator directly calculates the difference between the two values, and then normalizes. A value below what is expected will give rise to negative values, values above what is expected will give rise to positive values, close to 0 we are in the expected (generic) zone. In our corpus, the specificity score highlights as the most specific term. The higher value of certain terms is due to their presence in fewer documents (and therefore have lower co-occurrences). Using this indicator, it’s possible to remove generic terms that recur in a large majority of documents, to leave more room for more specific terms that may be of greater interest to us.</p>
</section>
<section id="tf-idf-gf-idf" class="level4">
<h4 class="anchored" data-anchor-id="tf-idf-gf-idf">TF-IDF / GF-IDF</h4>
<p>One of the simplest indicators for classifying terms is known as or (). The aim of this indicator is to provide a measure of term specificity. The hypothesis on which the indicator is based is that a term should be considered more specific if it appears in only a few documents relative to the size of the corpus. Thus, a term with a frequency of 10 in the corpus, but present in only 2 documents, will be considered more specific than a term present in 10 documents.</p>
<p>Formally, we express this idea as:</p>
<span class="math display">\[\begin{equation}
    \frac{gf_t}{df_t}
\end{equation}\]</span>
<p>With <span class="math inline">\(gf_t\)</span> the overall frequency of the term <span class="math inline">\(t\)</span>, i.e.&nbsp;the number of times the term appears in the corpus. <span class="math inline">\(df_t\)</span> the frequency in terms of documents, i.e.&nbsp;the number of documents containing the term <span class="math inline">\(t\)</span>. The element we need to decide on specificity is a comparison with the size of the corpus. 10 documents may not seem much, but if the corpus contains only 15 documents, 10 is a lot. So we’ll adjust the ratio in the previous equation by another ratio. What we’re interested in is a measure of the importance of the corpus containing the term in the overall corpus. We’ll proceed as follows:</p>
<span class="math display">\[\begin{equation}
    log(\frac{N}{|d \in D : t \in d|})
\end{equation}\]</span>
<p><span class="math inline">\(N\)</span> is the total number of documents in the corpus. The numerator is the number of documents in the corpus containing the term <span class="math inline">\(t\)</span>. The ratio therefore measures the fraction of documents containing the term.</p>
<span class="math display">\[\begin{equation}
    gf.idf = \frac{\frac{gf_t}{df_t}}{log(\frac{N}{|d \in D : t \in d|})}
\end{equation}\]</span>
<p>In the nominator, <span class="math inline">\(gf_t\)</span> corresponds to the frequency of appearance of the term <span class="math inline">\(t\)</span> in the corpus. <span class="math inline">\(df_t\)</span> corresponds to the number of documents in which <span class="math inline">\(t\)</span> is present. The nominator therefore measures the average frequency of the term when present in a document.</p>
<p>This value is then adjusted in relation to the number of documents in the corpus. In the denominator, <span class="math inline">\(N\)</span> corresponds to the number of documents in the corpus and <span class="math inline">\(|d \in D : t\in d|\)</span> corresponds to the fraction of documents in the corpus containing the term <span class="math inline">\(t\)</span>. The measure therefore takes into account the importance of the term in the corpus as a whole, while integrating its importance in the documents themselves. The higher this value, the more important the term is in the corpus.</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/JPvdP\.github\.io\/NetworkIsLife\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>